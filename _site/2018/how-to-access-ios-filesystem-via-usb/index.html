<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> How to access iOS filesystem via usb | aeged </title> <meta name="description" content=" How to access iOS filesystem via usb "> <meta name="keywords" content="SSH, iOS, jailbreak, filesystem"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="article"> <meta property="article:author" content="Alexander Gednov"> <meta property="article:section" content=""> <meta property="article:tag" content="SSH, iOS, jailbreak, filesystem"> <meta property="article:published_time" content="2018-01-23 00:00:00 -0800"> <meta property="og:url" content="http://localhost:4000/2018/how-to-access-ios-filesystem-via-usb/"> <meta property="og:title" content=" How to access iOS filesystem via usb | aeged "> <meta property="og:image" content="http://localhost:4000./assets/icons/MyIcons/light-flask.svg"> <meta property="og:description" content=" How to access iOS filesystem via usb "> <meta property="og:site_name" content="Alexander Gednov"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content=""> <meta name="twitter:title" content=" How to access iOS filesystem via usb | aeged "> <meta name="twitter:description" content=" How to access iOS filesystem via usb "> <meta name="twitter:image:src" content="http://localhost:4000./assets/icons/MyIcons/light-flask.svg"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" How to access iOS filesystem via usb | aeged "> <meta itemprop="description" content=" How to access iOS filesystem via usb "> <meta itemprop="image" content="http://localhost:4000./assets/icons/MyIcons/light-flask.svg"> <!-- Canonical link tag --> <link rel="canonical" href="http://localhost:4000/2018/how-to-access-ios-filesystem-via-usb/"> <link rel="alternate" type="application/rss+xml" title="aeged" href="http://localhost:4000/feed.xml"> <!-- rel prev and next --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="http://localhost:4000/">ae<span>ged</span></a></h1> <ul class="navbar"> <li><a href="http://localhost:4000/about">about me</a></li> <li><a href="http://localhost:4000/contact">contact</a></li> <li><a href="http://localhost:4000/projects">projects</a></li> <li><a href="http://localhost:4000/blog">blog</a></li> <li><a href="http://localhost:4000/feed.xml" target="_blank">rss</a></li> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <p class="post-meta"><time datetime="2018-01-23T00:00:00-08:00" itemprop="datePublished">Jan 23, 2018</time></p> <h1 class="post-title" itemprop="name headline">How to access iOS filesystem via usb</h1> </header> <div class="post-content" itemprop="articleBody"> <p><em>There are a couple of ways to do this…</em></p> <ol> <li>SSH Over USB connection</li> <li>Mount the iDevice on the computer’s filesystem using ifuse</li> </ol> <p><em>There are disadvantages, and advantages to each of these methods, as I will describe..</em></p> <h2 id="1-ssh-over-usb">(1) SSH Over USB</h2> <h3 id="advantages">advantages</h3> <ul> <li>minimal dependencies and work to build tools necessary</li> <li>SSH seems to be generally heralded as the more <em>secure</em> method of connection (for reasons I will explain in the iFuse disadvantages section) (The primary reason seeming to be that SSH is an encrypted tunnel connection, whereas mounting the filesystem is not. Also, AppleFileConduit2 is a dependency that is required for iFuse in order to have <strong>root access</strong> of the iDevice filesystem (notice I said <strong>root access</strong>, because ifuse uses a perfectly safe method to access parts of the filesystem that don’t require root, and thus don’t require a jailbroken target device) )</li> </ul> <h3 id="disadvantages">disadvantages</h3> <ul> <li>You must leave <code class="highlighter-rouge">iproxy</code> running in a seperate terminal tab/window to use this.</li> <li>Target idevice must be jailbroken (in order to have SSH installed)</li> </ul> <h3 id="prereqs">prereqs</h3> <ul> <li> <p>libimobiledevice</p> <p><em>can install with <strong>homebrew</strong> using</em></p> <p><code class="highlighter-rouge">$ brew install libimobiledevice</code></p> <p><em>or cloning from the <a href="https://github.com/libimobiledevice">GitHub page</a> to build yourself</em></p> </li> <li> <p>A jailbroken iDevice with OpenSSL installed from Cydia</p> </li> </ul> <h3 id="optional">optional</h3> <ul> <li>osxfuse w/ <strong>sshfs</strong> module</li> </ul> <h3 id="steps">steps</h3> <ol> <li> <p>With your idevice plugged in, pair the device to your machine using</p> <p><code class="highlighter-rouge">$ idevicepair pair</code></p> <p>You may need to unlock your iDevice and press the “Trust” button when prompted. The command will return “SUCCESS” upon a successful pairing with the target. ​ <em>If you have more than one iDevice connected, use the <code class="highlighter-rouge">-u </code> flag to specify the specific UDID of the target device.</em></p> </li> <li> <p>In your terminal, type in</p> <p><code class="highlighter-rouge">$ iproxy 2222 22</code></p> <p><em>You can also use the <code class="highlighter-rouge">-u</code> flag here to specify UDID of target as well.</em></p> </li> <li> <p>Open a new tab/window and log in as the root user using</p> <p><code class="highlighter-rouge">$ ssh root@localhost -p 2222</code></p> <p>and enter your password (if you haven’t changed the default password, it’s “alpine”)</p> </li> </ol> <p>You should now have root access to your device! If you haven’t changed your root password from the default, go ahead and change it with</p> <p><code class="highlighter-rouge">$ passwd</code></p> <p>while logged into the iDevice as root.</p> <p>When you’re finished, type in</p> <p><code class="highlighter-rouge">$ logout</code></p> <p>to logout of the ssh session. Then go to the open terminal session where you are running iproxy, and press the key combo <code class="highlighter-rouge">Ctrl+c</code> to stop the process.</p> <h3 id="alternative-steps">alternative steps</h3> <p><strong>If you want to get really savvy</strong>, you can do a bit of a mix of mounting and SSH-ing into the filesystem. If you go to the <a href="https://osxfuse.github.io/">osxfuse website</a>, you can download the Fuse for OS X package along with the SSHFS package. If you install both, you can mount the iOS filesystem to a mountpoint on your machine (useful if you are going to do a lot of file transfers and such.)</p> <p><code class="highlighter-rouge">$ mkdir -p /path/to/desired/mountpoint</code></p> <p>Follow steps 1 &amp; 2 above, then</p> <p><code class="highlighter-rouge">$ sshfs root@localhost:/remote/mountpoint -p 2222 /local/mountpoint</code></p> <p>Eureka! You should be able to access the remote filesystem via the mountpoint on your local machine. When you are finished, unmount using the macOS default <code class="highlighter-rouge">umount</code> tool. The folder you created with the <code class="highlighter-rouge">-p</code> flag will disappear due to it having been a provisional directory!</p> <h2 id="2-mount-idevice-file-system-using-ifuse">(2) Mount iDevice File System using ifuse</h2> <h3 id="advantages-1">advantages</h3> <ul> <li><strong>No jailbreak required.</strong> And if the target idevice is jailbroken and you have AFC2 (AppleFileConduit2) installed, you are able to have full file system access via ifuse.</li> <li>Mounts the idevice to the naitive filesystem.</li> </ul> <h3 id="disadvatages">disadvatages</h3> <ul> <li>Not as secure as SSH.</li> <li>More work to get set up and install correctly (on macOS that is.)</li> </ul> <h3 id="installing-fuse-on-macos-via-homebrew">installing fuse on macOS via Homebrew</h3> <p>type in <code class="highlighter-rouge">$ brew install homebrew/fuse/ifuse</code></p> <h3 id="installing-ifuse-on-macos-via-macports">installing ifuse on macOS via macports</h3> <p>follow [this guide][https://github.com/libimobiledevice/ifuse/wiki] on the ifuse GitHub wiki.</p> <p><strong>Still experimenting with ifuse, don’t know how to quite use it. was reading <a href="https://wiki.gentoo.org/wiki/Apple_iPod,_iPad,_iPhone#Mounting">this helpful page</a> to learn some usage</strong></p> </div> </article> <footer class="site-footer"> <div class="container"> <small class="block">&copy; 2018 Alexander Gednov &middot; &lt; / &gt; Powered by <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://github.com/heiswayi/thinkspace">Thinkspace theme</a></small> </div> </footer> </main> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-XXXXX-XX']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> </body> </html>
