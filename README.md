# AEGED Site (Astro + MDX)

This repo hosts a static website built with Astro 5 and MDX. The site uses a clean minimal layout and is configured for GitHub Pages, with RSS and sitemap support.

## Tech
- Astro 5 (static build)
- MDX for blog content
- Shiki syntax highlighting
- GitHub Pages deployment via Actions

## Project structure
```
/astro.config.mjs           # Astro config (update `site` when custom domain is set)
/src
  /layouts/MinimalLayout.astro
  /pages
    index.astro            # Homepage (About)
    about.astro            # About (same content as index)
    projects.astro         # Projects
    contact.astro          # Contact
    /blog
      index.astro          # Blog index listing
      [slug].astro         # Blog post page
  /content
    config.ts              # Content collections schema
    /blog                  # Blog posts (MDX)
      2020-01-20-my-favorite-python-tricks.mdx
      ...
/public
  robots.txt               # Robots; add static files here (favicons, images)
/.github/workflows/astro-gh-pages.yml  # GitHub Pages deploy workflow
```

## Writing a new blog post
1. Create a new MDX file in `src/content/blog/` using the filename as the slug (no spaces):
   - Example: `src/content/blog/2025-08-01-llm-routing-techniques.mdx`
2. Add frontmatter and content:
   ```mdx
   ---
   title: LLM Routing Techniques
   description: Strategies for routing requests among multiple models.
   date: 2025-08-01
   tags: [llm, routing]
   ---

   Your content here in Markdown/MDX. Code fences are highlighted.
   ```
3. The post will be available at `/blog/<filename>/` and will automatically appear on `/blog`.

Notes:
- Images and static assets: place under `public/` and reference by absolute path, e.g. `/images/foo.png`.
- MDX supports JSX components if you add them; this project currently doesn’t include a components library.

## Editing the About page (homepage)
- Update the content in `src/pages/index.astro` (and optionally `src/pages/about.astro`).

## Local development
Prereqs: Node 18+ (Node 20 recommended). NPM comes with Node.

- Install dependencies:
  ```bash
  npm install
  ```
- Start dev server:
  ```bash
  npm run dev
  ```
  Visit `http://localhost:4321/`.

- Static checks (type/content):
  ```bash
  npx astro check
  ```

- Build and preview production output:
  ```bash
  npm run build
  npm run preview
  ```
  `dist/` contains the generated static site.

## Deployment (GitHub Pages)
- A GitHub Actions workflow is included at `.github/workflows/astro-gh-pages.yml`.
- In the repository’s Settings → Pages, set Source to “GitHub Actions”.
- Push to the default branch (`master` or `main`) to trigger deployment.

### Custom domain
- After purchasing a domain, set it in the repo’s Settings → Pages → Custom domain.
- Optionally add a `CNAME` file under `public/` containing your domain (e.g., `example.com`). Astro will copy it to `dist/`.
- Update `site` in `astro.config.mjs` to your domain (e.g., `https://example.com`). This ensures absolute URLs in RSS/sitemap/meta tags.
- Configure your DNS with a CNAME to `<username>.github.io` per GitHub Pages docs.

## SEO & feeds
- RSS feed at `/rss.xml` (`src/pages/rss.xml.js`).
- Sitemap at `/sitemap-index.xml` (generated by `@astrojs/sitemap`).
- Robots at `/robots.txt` (edit `public/robots.txt`).

## Conventions
- Blog slugs come from filenames; keep them lowercase, hyphen-separated.
- Dates should be valid ISO or `YYYY-MM-DD` in frontmatter; the schema coerces to Date.

## Upgrading
- Update dependencies:
  ```bash
  npm update
  ```
- If Astro major versions change, review the migration guide at `https://docs.astro.build/`.
